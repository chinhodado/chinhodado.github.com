<html>
    <head></head>
    <body>
        <textarea rows="10" cols="50" id="famList"></textarea>
        <p>Vote for what?</p>
        <textarea rows="1" cols="50" id="reason">PvP Tier</textarea>
        <br>
        <button onclick="makePoll(true)">Make hidden poll</button>
        <button onclick="makePoll(false)">Make closed poll</button>
        <br><br>
        <code><div id="result"></div></code>

        <script type="text/javascript">
        document.getElementById('famList').value = "Camazo, Knight of Bats II\nDong, the Bloody Claw II\nArcanan Death II";
        function makePoll (isHidden) {
            var head = "{| border=\"0\" cellpadding=\"1\" cellspacing=\"1\" class=\"article-table\" style=\"width: 100%;\"\n" +
                        "!scope=\"col\"|Familiar\n" +
                        "!scope=\"col\"|Poll\n";
            var foot = "}";
            var body = "";
            var type = isHidden? "hiddenPoll" : "closedPoll";
            var reason = document.getElementById('reason').value;

            var lines = document.getElementById('famList').value.split('\n');
            for (var i = 0; i < lines.length; i++){
                var name = lines[i];
                var tmp = "|-\n" +
                        "|\n" +
                        "<p style=\"text-align:center;\">[[File:" + name + "_Figure.png|80px|link=" + name + "]]</p>\n" +
                        //"<p style=\"text-align:center;\">[[File:Rarity.Mythic.pngâ€Ž|20px]]</p>" +
                        "<p style=\"text-align:center;\">[[" + name + "]]</p>\n" +
                        "|<div class=\""+ type +"\"><poll>\n" +
                        "Vote for " + name + "'s "+ reason +"\n" +
                        "X+\n" +
                        "X\n" +
                        "S+\n" +
                        "S\n" +
                        "A+\n" +
                        "A\n" +
                        "B\n" +
                        "C\n" +
                        "</poll></div>\n" +
                        "|";
                if (i != lines.length - 1) {
                    tmp += "\n";
                }
                body += tmp;
            }
            document.getElementById('result').innerText = head + body + foot;
        }
        </script>
    </body>
</html>